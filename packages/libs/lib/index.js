var domTools;(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function o(e){let t=null;if(e)return t=e instanceof HTMLElement||e instanceof Document?e:[".","#"].includes(e.substr(0,1))?document.querySelector(e):document.querySelector(`${e}`)||document.querySelector(`#${e}`)||document.querySelector(`.${e}`),t}function n(e,t){const n=o(e);if(n){const e=Math.min(window.innerHeight,window.outerHeight),t=document.body.scrollTop||document.documentElement.scrollTop,o=r(n),l={bottom:t+e,top:t};if(o.top>=l.top&&o.top<=l.bottom||o.bottom>=l.top&&o.bottom<=l.bottom)return!0}return!1}function r(e){const t=o(e);return t?t.getBoundingClientRect?{...t.getBoundingClientRect(),el:t}:(e=>{let t={top:0,bottom:0,left:0,right:0,height:e.offsetHeight,width:e.offsetWidth,el:e};const o=n=>n&&n instanceof HTMLElement&&(t={...t,top:t.top+n.offsetTop,bottom:t.top+n.offsetTop+e.offsetHeight,left:t.left+n.offsetLeft,right:t.left+n.offsetLeft+e.offsetWidth},n.offsetParent)?o(n.offsetParent):t;return o(e)})(t):{top:0,bottom:0,left:0,right:0,height:0,width:0,el:null}}function l(e){const{el:t,moveLeft:n,moveRight:r,moveTop:l,moveBottom:c,once:s}={el:null,moveLeft:()=>{},moveRight:()=>{},moveTop:()=>{},moveBottom:()=>{},once:!0,...e,el:o(e.el)};if(!(t instanceof HTMLElement))return console.error("el不是HTMLElement类型");let i,a,u,d,m,f,g,h;function p(e){s&&(g=!0),i=e.changedTouches[0].pageX,a=e.changedTouches[0].pageY}function y(e){h!==e&&s&&(g=!0)}function v(e){u=e.changedTouches[0].pageX,d=e.changedTouches[0].pageY,m=u-i,f=d-a,i=u,a=d,m>0?(y("right"),h="right",g&&r instanceof Function&&r()):m<0?(y("left"),h="left",g&&n instanceof Function&&n()):f>0?(y("top"),h="top",l instanceof Function&&l()):f<0?(y("bottom"),h="bottom",c instanceof Function&&c()):console.log("anything else"),s&&(g=!1)}return{register(){t.addEventListener("touchstart",p),t.addEventListener("touchmove",v)},destroy(){t.removeEventListener("touchstart",p),t.removeEventListener("touchmove",v)}}}function c(e){const t={el:null,include:{class:null,id:null,attrs:[],isCorss:!0},exclude:{class:null,id:null,attrs:[],isCorss:!1},...e,el:o(e.el)},{el:n,include:r,exclude:l}=t,s=(e,t)=>{return e instanceof HTMLElement?(o=e?.classList,[...o])?.includes(t):[];var o},i=e=>{if(e instanceof Document)return null;const t=(t,o)=>{let n=[],r=!0;for(let o in t){const r=t[o];if("isCross"!==o&&("class"===o&&n.push(s(e,r)),"id"===o&&n.push(e.id===r),"attrs"===o&&r.filter((e=>e.key)).length>0)){let t=[];r.filter((e=>e.key)).map((o=>{t.push(o.value===e.getAttribute(o.key))})),n.push(t.length>0&&t.every(Boolean))}}return r=t.isCross?n.length>0&&n.every(Boolean):n.some(Boolean),r},o=t(r),n=t(l);return o&&!n};if(!n)return null;if(i(n))return n;const a=n?.parentNode;return a?i(a)?a:c({...t,el:a}):null}function s(e,t){return new Promise((o=>{let n=document.createElement("canvas");const r=n.getContext("2d"),l=new window.Image;l.crossOrigin="anonymous",l.onload=()=>{n.height=l.height,n.width=l.width,r.drawImage(l,0,0);const e=n.toDataURL(t||"image/png");o(e),n=null},l.src=e}))}e.r(t),e.d(t,{default:()=>f,getDomElement:()=>o,getRectFromView:()=>r,getTargetNodeBySourceDom:()=>c,imageToBase64:()=>s,isScrollIntoView:()=>n,loadCSS:()=>d,loadCSSCode:()=>u,loadImage:()=>m,loadScript:()=>a,mouseMoveObsever:()=>l});const i={};function a(e,t={}){return i[e]?i[e]:i[e]=new Promise(((o,n)=>{const r=document.createElement("script");if(r.type=t.type||"text/javascript",r.charset=t.charset||"utf8",r.async=!("async"in t)||!!t.async,r.src=e,t.attrs)for(var l in t.attrs)r.setAttribute(l,t.attrs[l]);let c=!1;r.onload=r.onreadystatechange=function(){if(r.readyState&&"complete"!==r.readyState&&"loaded"!==r.readyState||c)return!1;r.onload=r.onreadystatechange=null,c=!0,o()},r.onerror=function(){r.onload=r.onreadystatechange=null,n()};const s=document.getElementsByTagName("head")[0];s.insertBefore(r,s.firstChild)}))}function u(e){const t=document.createElement("style");t.type="text/css",t.rel="stylesheet",t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)}function d(e){const t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function m(e){return i[e]?i[e]:i[e]=new Promise(((t,o)=>{const n=document.createElement("img");n.src=e,n.onload=function(){t(n)},n.onerror=function(e){n.onload=null,o(e)}}))}const f={getDomElement:o,getRectFromView:r,isScrollIntoView:n,getTargetNodeBySourceDom:c,imageToBase64:s,loadScript:a,loadCSSCode:u,loadCSS:d,loadImage:m};(domTools=void 0===domTools?{}:domTools).index=t})();
//# sourceMappingURL=index.js.map